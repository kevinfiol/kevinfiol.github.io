<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><meta content="ie=edge" http-equiv=X-UA-Compatible><meta content="kevin f.'s personal site" name=description><link rel="shortcut icon" href=https://kevinfiol.com/img/favicon.png type=image/x-icon><link href=https://kevinfiol.com/css/main.css rel=stylesheet><link href=https://kevinfiol.com/atom.xml rel=alternate title=feed type=application/atom+xml><title>
            
                Binding Mouse Button + Scroll Wheel to System Volume Control
            
        </title><body><div class=dark-mode-container><input id=darkSwitch type=checkbox><label class=dark-mode-btn for=darkSwitch>ðŸŒ’</label></div><main class="main-content max-width-3 mx-auto"><div><div class="controls p1"><a href=https://github.com/kevinfiol/kevinfiol.com/edit/master/content/blog/2021-01-22-binding-mouse-button-plus-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux.md>edit</a></div><header><nav><p class=h3><a href=/>kevin f.</a></nav></header><small class="h5 p0 m0 light-subdue"> January 22, 2021 </small><aside><div class="toc h5 py1"><div class="toc-header pb1"><div class=h3>Binding Mouse Button + Scroll Wheel to System Volume Control (on Windows or Ubuntu Linux)</div><span class=light-subdue>table of contents</span></div><ul><li><a title="Some Context" href=#some-context>Some Context</a><li><a href=#windows title=Windows>Windows</a><li><a href=#linux title=Linux>Linux</a><li><a title="Update, or, how to bind the Super key (03/08/2022)" href=#update-or-how-to-bind-the-super-key-03-08-2022>Update, or, how to bind the Super key (03/08/2022)</a><li><a title="Helpful related reading" href=#helpful-related-reading>Helpful related reading</a></ul></div></aside><article class=page-content><h1 id=binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux><a aria-label="Anchor link for: binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux" class=zola-anchor href=#binding-mouse-button-scroll-wheel-to-system-volume-control-on-windows-or-ubuntu-linux>#</a>Binding Mouse Button + Scroll Wheel to System Volume Control (on Windows or Ubuntu Linux)</h1><h2 id=some-context><a aria-label="Anchor link for: some-context" class=zola-anchor href=#some-context>#</a>Some Context</h2><p>About six years ago, I purchased a ROCCAT Savu gaming mouse to serve as my daily driver. The mouse itself was mediocre, but the bundled Windows-only software included a feature that I enabled on a whim that allowed the user to hold a button on the side of the mouse and use the scroll wheel to control the system volume. I didn't think much of the feature. A couple years later when my Savu finally died, I replaced it with a Logitech G203, only to find that controlling the system volume with the scroll wheel had become second nature.<h2 id=windows><a aria-label="Anchor link for: windows" class=zola-anchor href=#windows>#</a>Windows</h2><p>Fortunately, Logitech's software included ways to bind keys to mouse buttons, and using an <a href=https://gist.github.com/kevinfiol/e7a915a3ed6f1f3e6d5f745633b61617>Autohotkey script</a> to fake an <code>F13</code> key press, I was able to bind my mouse button to a non-existent key. Afterwards, I simply launch another <a href=https://gist.github.com/kevinfiol/9214d92033fc6a6784a607c97aa50838>Autohotkey script</a> on system startup to have system-wide volume control bound to my mouse.<h2 id=linux><a aria-label="Anchor link for: linux" class=zola-anchor href=#linux>#</a>Linux</h2><p>The state of consumer-grade peripheral software on Linux is getting better by the day, but still severely lacking compared to Windows. For the most part, you should be fine with <a href=https://github.com/libratbag/piper/>Piper</a> for your gaming mouse needs on Linux. However, Piper itself is insufficient for our goals.<p>In the end, I was able to achieve similar functionality to the Autohotkey script above using <code>xbindkeys</code> and <code>xdotool</code>, both of which you can install using your package manager:<pre class=language-bash data-lang=bash style=color:#c0c5ce;background-color:#2b303b><code class=language-bash data-lang=bash><span style=color:#65737e># Ubuntu
</span><span style=color:#bf616a>sudo</span><span> apt update
</span><span style=color:#bf616a>sudo</span><span> apt install xbindkeys xdotool
</span></code></pre><p>Create <code>~/.xbindkeysrc</code> in your home directory and paste:<pre style=color:#c0c5ce;background-color:#2b303b><code><span>"xdotool keydown ctrl"
</span><span>    b:8
</span><span>
</span><span>"xdotool keyup ctrl"
</span><span>    release + control + b:8
</span><span>
</span><span>"pactl -- set-sink-volume 0 -5%"
</span><span>    control + b:5
</span><span>
</span><span>"pactl -- set-sink-volume 0 +5%"
</span><span>    control + b:4
</span></code></pre><p>Run <code>killall xbindkeys && xbindkeys</code> to restart xbindkeys.<p>A few things to note:<ul><li><p>You may find xbindkeys keycodes using <code>xbindkeys --key</code> or mouse button codes using <code>xev</code>.</p><li><p>I am binding the side button on my mouse <code>b:8</code> to the Control key on my keyboard using <code>xdotool</code>. This may or may not work for you if you already bind your Control key to something else. What this means in practice is that holding your mouse button is essentially like holding the Control key.</p> <ul><li>This is a particular point of frustration on Linux, as it seems xbindkeys is very selective of what keys can be used as modifiers. The manpage lists <code>Release, Control, Shift, Mod1 (Alt), Mod2 (NumLock), Mod3 (CapsLock), Mod4 (Super), Mod5 (Scroll)</code> as available modifiers.</ul><li><p>The commands <code>pactl -- set-sink-volume 0 -5%</code> and <code>pactl -- set-sink-volume 0 +5%</code> assume you are using the PulseAudio sound driver. These commands may not work for you if you're using the ALSA sound driver, in which case, you may use commands like <code>amixer -q sset Master 5%-</code> and <code>amixer -q sset Master 5%+</code> respectively. If neither of these work, try <code>amixer -q -D pulse sset Master 5%+</code> and <code>amixer -q -D pulse sset Master 5%-</code>, or research how to control your master volume by command line on your system.</p></ul><h2 id=update-or-how-to-bind-the-super-key-03-08-2022><a aria-label="Anchor link for: update-or-how-to-bind-the-super-key-03-08-2022" class=zola-anchor href=#update-or-how-to-bind-the-super-key-03-08-2022>#</a>Update, or, how to bind the Super key (03/08/2022)</h2><p>A little over a year later, I discovered <a href=https://github.com/hanschen/ksuperkey>ksuperkey</a>, and further <a href=https://github.com/jixunmoe/xfce-superkey>xfce-superkey</a> (I am an XFCE user). Last year, I avoided binding to the Super key because more often than not, this will interfere with existing keybinds in DEs where the Super key opens the Applications menu. This is the case in XFCE where the Super key is used to open the Whisker Menu. While you can simply rebind your Applications shortcut to something other than <code>Super</code>, I personally find it hard to deprogram this instinct. The above utilities allow you to keep <code>Super</code> as your sole shortcut to <code>Applications</code> but also allow you to use it in other keyboard combinations. <strong>Note:</strong> if you use XFCE, you still have to unbind Whisker Menu from <code>Super</code> in your Keyboard settings -- don't worry though, you'll still be able to use <code>Super</code> after running <code>xfce-superkey</code>. After installing the above utility, I changed my <code>.xbindkeysrc</code> to:<pre style=color:#c0c5ce;background-color:#2b303b><code><span>"xdotool keydown Super_R keydown ctrl"
</span><span>    b:8
</span><span>
</span><span>"xdotool keyup Super_R keyup ctrl"
</span><span>    release + Mod4 + control + b:8
</span><span>
</span><span>"pactl -- set-sink-volume 0 -5%"
</span><span>    Mod4 + control + b:4
</span><span>
</span><span>"pactl -- set-sink-volume 0 +5%"
</span><span>    Mod4 + control + b:5
</span></code></pre><h2 id=helpful-related-reading><a aria-label="Anchor link for: helpful-related-reading" class=zola-anchor href=#helpful-related-reading>#</a>Helpful related reading</h2><ul><li><a href=https://linux.die.net/man/1/xbindkeys>Xbindkeys manpage</a><li><a href=https://wiki.archlinux.org/index.php/Xbindkeys>ArchWiki article on xbindkeys</a><li><a href=https://askubuntu.com/questions/627555/how-to-map-modifiers-e-g-ctrl-to-mouse-thumb-buttons-using-xbindkeys>AskUbuntu question with helpful suggestions</a><li><a href=https://web.archive.org/web/20200107023614/https://blog.hanschen.org/2009/10/13/mouse-shortcuts-with-xbindkeys/>Helpful blog article on using mouse buttons with xbindkeys</a></ul></article><footer class=mt2><small> <a href=#>return to top</a> </small></footer></div></main><script src=https://kevinfiol.com/js/dark-mode-switch.min.js></script>